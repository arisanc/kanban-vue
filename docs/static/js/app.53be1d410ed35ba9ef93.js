webpackJsonp([1],{1122:function(t,n,e){var s=e(23)(e(32),e(1124),null,null);t.exports=s.exports},1123:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),e("Kanban",{attrs:{stages:t.statuses,blocks:t.blocks},on:{"update-block":t.updateBlock}},[t._l(t.statuses,function(n){return e("div",{key:n,attrs:{slot:n},slot:n},[e("h2",[t._v("\n        "+t._s(n)+"\n        "),e("a",[t._v("+")])])])}),t._v(" "),t._l(t.blocks,function(n){return e("div",{key:n.id,attrs:{slot:n.id},slot:n.id},[e("div",[e("strong",[t._v("id:")]),t._v(" "+t._s(n.id)+"\n      ")]),t._v(" "),e("div",[t._v("\n        "+t._s(n.title)+"\n      ")])])}),t._v(" "),t._l(t.statuses,function(n){return e("div",{key:n,attrs:{slot:"footer-"+n},slot:"footer-"+n},[e("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),function(){return t.addBlock(n)}()}}},[t._v("+ Add new block")])])})],2)],1)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",{staticClass:"section"},[e("h4",[t._v("\n      Vue adoptation of Ettric's\n      "),e("a",{attrs:{href:"//codepen.io/ettrics/pen/QbPEeg"}},[t._v("Codepen")])])])}]}},1124:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"drag-container"},[e("ul",{staticClass:"drag-list"},t._l(t.stages,function(n){var s;return e("li",{key:n,staticClass:"drag-column",class:(s={},s["drag-column-"+n]=!0,s)},[e("span",{staticClass:"drag-column-header"},[t._t(n,[e("h2",[t._v(t._s(n))])])],2),t._v(" "),e("div",{staticClass:"drag-options"}),t._v(" "),e("ul",{ref:"list",refInFor:!0,staticClass:"drag-inner-list",attrs:{"data-status":n}},t._l(t.getBlocks(n),function(n){return e("li",{key:n[t.idProp],staticClass:"drag-item",attrs:{"data-block-id":n[t.idProp]}},[t._t(n[t.idProp],[e("strong",[t._v(t._s(n[t.statusProp]))]),t._v(" "),e("div",[t._v(t._s(n[t.idProp]))])])],2)}),0),t._v(" "),e("div",{staticClass:"drag-column-footer"},[t._t("footer-"+n)],2)])}),0)])},staticRenderFns:[]}},27:function(t,n,e){e(70);var s=e(23)(e(31),e(1123),null,null);t.exports=s.exports},30:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e(28),i=e(27),o=e.n(i);s.a.config.productionTip=!1,new s.a({el:"#app",template:"<App/>",components:{App:o.a}})},31:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e(71),i=e.n(s),o=e(1118),a=(e.n(o),e(1122)),r=e.n(a);n.default={name:"app",components:{Kanban:r.a},data:function(){return{statuses:["on-hold","in-progress","needs-review","approved"],blocks:[]}},mounted:function(){for(var t=0;t<=10;t+=1)this.blocks.push({id:t,status:this.statuses[Math.floor(4*Math.random())],title:i.a.company.bs()})},methods:{updateBlock:e.i(o.debounce)(function(t,n){this.blocks.find(function(n){return n.id===Number(t)}).status=n},500),addBlock:e.i(o.debounce)(function(t){this.blocks.push({id:this.blocks.length,status:t,title:i.a.company.bs()})},500)}}},32:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e(34),i=e.n(s),o=e(33),a=e.n(o),r=e(69),c=e.n(r),u=e(1129);n.default={name:"KanbanBoard",props:{stages:{type:Array,required:!0},blocks:{type:Array,required:!0},config:{type:Object,default:function(){return{}}},stateMachineConfig:{type:Object,default:null},idProp:{type:String,default:"id"},statusProp:{type:String,default:"status"}},data:function(){return{machine:null}},computed:{localBlocks:function(){return this.blocks}},methods:{getBlocks:function(t){var n=this;return this.localBlocks.filter(function(e){return e[n.statusProp]===t})},findPossibleTransitions:function(t){return this.machine.config.states[t].on||{}},findTransition:function(t,n){var e=t.dataset.status,s=n.dataset.status,i=this.findPossibleTransitions(s);return a()(i).find(function(t){return i[t]===e})},accepts:function(t,n,e){if(!this.machine)return!0;var s=n.dataset.status,o=e.dataset.status;return i()(this.findPossibleTransitions(o)).includes(s)},allowedTargets:function(t,n){var e=this,s=this.localBlocks.find(function(n){return n[e.idProp]===t.dataset.blockId});return this.drake.containers.filter(function(t){return e.config.accepts(s,t,n)})},forbiddenTargets:function(t,n){var e=this;return this.drake.containers.filter(function(s){return!e.allowedTargets(t,n).includes(s)})}},updated:function(){this.drake.containers=this.$refs.list,this.drake.mirrorContainer=this.$el},mounted:function(){var t=this;this.config.accepts=this.config.accepts||this.accepts,this.config.mirrorContainer=this.$el,this.drake=c()(this.$refs.list,this.config).on("drag",function(n,e){t.$emit("drag",n,e),n.classList.add("is-moving"),t.allowedTargets(n,e).forEach(function(t){return t.classList.add("allowed")}),t.forbiddenTargets(n,e).forEach(function(t){return t.classList.add("forbidden")})}).on("dragend",function(n){t.$emit("dragend",n),n.classList.remove("is-moving"),t.drake.containers.forEach(function(t){return t.classList.remove("allowed","forbidden")}),window.setTimeout(function(){n.classList.add("is-moved"),window.setTimeout(function(){n.classList.remove("is-moved")},600)},100)}).on("drop",function(n,e,s,i){t.$emit("drop",n,e,s,i);var o=0;for(o=0;o<e.children.length&&!e.children[o].classList.contains("is-moving");o+=1);var a=e.dataset.status;if(t.machine){var r=t.findTransition(e,s);if(!r)return;a=t.machine.transition(s.dataset.status,r).value}t.$emit("update-block",n.dataset.blockId,a,o)}).on("cancel",function(n,e,s){t.$emit("cancel",n,e,s)}).on("remove",function(n,e,s){t.$emit("remove",n,e,s)}).on("shadow",function(n,e,s){t.$emit("shadow",n,e,s)}).on("over",function(n,e,s){t.$emit("over",n,e,s)}).on("out",function(n,e,s){t.$emit("out",n,e,s)}).on("cloned",function(n,e,s){t.$emit("cloned",n,e,s)}),this.$emit("init",this.drake)},created:function(){this.stateMachineConfig&&(this.machine=e.i(u.a)(this.stateMachineConfig))}}},70:function(t,n){}},[30]);
//# sourceMappingURL=app.53be1d410ed35ba9ef93.js.map