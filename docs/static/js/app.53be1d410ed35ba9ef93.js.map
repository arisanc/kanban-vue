{"version":3,"sources":["webpack:///static/js/app.53be1d410ed35ba9ef93.js","webpack:///./src/components/Kanban.vue","webpack:///./src/App.vue?c7ea","webpack:///./src/components/Kanban.vue?f3dc","webpack:///./src/App.vue?fc6a","webpack:///./src/main.js","webpack:///App.vue","webpack:///Kanban.vue"],"names":["webpackJsonp","1122","module","exports","__webpack_require__","Component","1123","render","_vm","this","_h","$createElement","_c","_self","attrs","_m","_v","statuses","blocks","on","updateBlock","_l","stage","key","slot","_s","item","id","title","$event","preventDefault","addBlock","staticRenderFns","staticClass","1124","_obj","class","_t","ref","refInFor","getBlocks","block","idProp","statusProp","27","30","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","n","Vue","config","productionTip","el","template","components","App","31","__WEBPACK_IMPORTED_MODULE_0_faker__","__WEBPACK_IMPORTED_MODULE_0_faker___default","__WEBPACK_IMPORTED_MODULE_1_lodash__","__WEBPACK_IMPORTED_MODULE_2__components_Kanban__","__WEBPACK_IMPORTED_MODULE_2__components_Kanban___default","name","Kanban","data","mounted","push","i","status","Math","floor","random","methods","find","length","32","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_values__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_values___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_2_dragula__","__WEBPACK_IMPORTED_MODULE_2_dragula___default","__WEBPACK_IMPORTED_MODULE_3_xstate__","70"],"mappings":"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","file":"static/js/app.53be1d410ed35ba9ef93.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 1122:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(23)(\n  /* script */\n  __webpack_require__(32),\n  /* template */\n  __webpack_require__(1124),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 1123:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_vm._m(0), _vm._v(\" \"), _c('Kanban', {\n    attrs: {\n      \"stages\": _vm.statuses,\n      \"blocks\": _vm.blocks\n    },\n    on: {\n      \"update-block\": _vm.updateBlock\n    }\n  }, [_vm._l((_vm.statuses), function(stage) {\n    return _c('div', {\n      key: stage,\n      attrs: {\n        \"slot\": stage\n      },\n      slot: stage\n    }, [_c('h2', [_vm._v(\"\\n        \" + _vm._s(stage) + \"\\n        \"), _c('a', [_vm._v(\"+\")])])])\n  }), _vm._v(\" \"), _vm._l((_vm.blocks), function(item) {\n    return _c('div', {\n      key: item.id,\n      attrs: {\n        \"slot\": item.id\n      },\n      slot: item.id\n    }, [_c('div', [_c('strong', [_vm._v(\"id:\")]), _vm._v(\" \" + _vm._s(item.id) + \"\\n      \")]), _vm._v(\" \"), _c('div', [_vm._v(\"\\n        \" + _vm._s(item.title) + \"\\n      \")])])\n  }), _vm._v(\" \"), _vm._l((_vm.statuses), function(stage) {\n    return _c('div', {\n      key: stage,\n      attrs: {\n        \"slot\": (\"footer-\" + stage)\n      },\n      slot: (\"footer-\" + stage)\n    }, [_c('a', {\n      attrs: {\n        \"href\": \"\"\n      },\n      on: {\n        \"click\": function($event) {\n          $event.preventDefault();\n          return (function () { return _vm.addBlock(stage); })($event)\n        }\n      }\n    }, [_vm._v(\"+ Add new block\")])])\n  })], 2)], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    staticClass: \"section\"\n  }, [_c('h4', [_vm._v(\"\\n      Vue adoptation of Ettric's\\n      \"), _c('a', {\n    attrs: {\n      \"href\": \"//codepen.io/ettrics/pen/QbPEeg\"\n    }\n  }, [_vm._v(\"Codepen\")])])])\n}]}\n\n/***/ }),\n\n/***/ 1124:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"drag-container\"\n  }, [_c('ul', {\n    staticClass: \"drag-list\"\n  }, _vm._l((_vm.stages), function(stage) {\n    var _obj;\n\n    return _c('li', {\n      key: stage,\n      staticClass: \"drag-column\",\n      class: ( _obj = {}, _obj['drag-column-' + stage] = true, _obj )\n    }, [_c('span', {\n      staticClass: \"drag-column-header\"\n    }, [_vm._t(stage, [_c('h2', [_vm._v(_vm._s(stage))])])], 2), _vm._v(\" \"), _c('div', {\n      staticClass: \"drag-options\"\n    }), _vm._v(\" \"), _c('ul', {\n      ref: \"list\",\n      refInFor: true,\n      staticClass: \"drag-inner-list\",\n      attrs: {\n        \"data-status\": stage\n      }\n    }, _vm._l((_vm.getBlocks(stage)), function(block) {\n      return _c('li', {\n        key: block[_vm.idProp],\n        staticClass: \"drag-item\",\n        attrs: {\n          \"data-block-id\": block[_vm.idProp]\n        }\n      }, [_vm._t(block[_vm.idProp], [_c('strong', [_vm._v(_vm._s(block[_vm.statusProp]))]), _vm._v(\" \"), _c('div', [_vm._v(_vm._s(block[_vm.idProp]))])])], 2)\n    }), 0), _vm._v(\" \"), _c('div', {\n      staticClass: \"drag-column-footer\"\n    }, [_vm._t((\"footer-\" + stage))], 2)])\n  }), 0)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 27:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(70)\n\nvar Component = __webpack_require__(23)(\n  /* script */\n  __webpack_require__(31),\n  /* template */\n  __webpack_require__(1123),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n\n/***/ 31:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_faker__ = __webpack_require__(71);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_faker___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_faker__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(1118);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Kanban__ = __webpack_require__(1122);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Kanban___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_Kanban__);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  components: {\n    Kanban: __WEBPACK_IMPORTED_MODULE_2__components_Kanban___default.a\n  },\n  data: function data() {\n    return {\n      statuses: ['on-hold', 'in-progress', 'needs-review', 'approved'],\n      blocks: []\n    };\n  },\n  mounted: function mounted() {\n    for (var i = 0; i <= 10; i += 1) {\n      this.blocks.push({\n        id: i,\n        status: this.statuses[Math.floor(Math.random() * 4)],\n        title: __WEBPACK_IMPORTED_MODULE_0_faker___default.a.company.bs()\n      });\n    }\n  },\n\n\n  methods: {\n    updateBlock: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__[\"debounce\"])(function (id, status) {\n      this.blocks.find(function (b) {\n        return b.id === Number(id);\n      }).status = status;\n    }, 500),\n    addBlock: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__[\"debounce\"])(function (stage) {\n      this.blocks.push({\n        id: this.blocks.length,\n        status: stage,\n        title: __WEBPACK_IMPORTED_MODULE_0_faker___default.a.company.bs()\n      });\n    }, 500)\n  }\n});\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_values__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_values___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_values__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_dragula__ = __webpack_require__(69);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_dragula___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_dragula__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_xstate__ = __webpack_require__(1129);\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'KanbanBoard',\n\n  props: {\n    stages: {\n      type: Array,\n      required: true\n    },\n    blocks: {\n      type: Array,\n      required: true\n    },\n    config: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    stateMachineConfig: {\n      type: Object,\n      default: null\n    },\n    idProp: {\n      type: String,\n      default: 'id'\n    },\n    statusProp: {\n      type: String,\n      default: 'status'\n    }\n  },\n\n  data: function data() {\n    return {\n      machine: null\n    };\n  },\n\n\n  computed: {\n    localBlocks: function localBlocks() {\n      return this.blocks;\n    }\n  },\n\n  methods: {\n    getBlocks: function getBlocks(status) {\n      var _this = this;\n\n      return this.localBlocks.filter(function (block) {\n        return block[_this.statusProp] === status;\n      });\n    },\n    findPossibleTransitions: function findPossibleTransitions(sourceState) {\n      return this.machine.config.states[sourceState].on || {};\n    },\n    findTransition: function findTransition(target, source) {\n      var targetState = target.dataset.status;\n      var sourceState = source.dataset.status;\n      var possibleTransitions = this.findPossibleTransitions(sourceState);\n      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(possibleTransitions).find(function (transition) {\n        return possibleTransitions[transition] === targetState;\n      });\n    },\n    accepts: function accepts(block, target, source) {\n      if (!this.machine) return true;\n      var targetState = target.dataset.status;\n      var sourceState = source.dataset.status;\n      return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_values___default()(this.findPossibleTransitions(sourceState)).includes(targetState);\n    },\n    allowedTargets: function allowedTargets(el, source) {\n      var _this2 = this;\n\n      var block = this.localBlocks.find(function (b) {\n        return b[_this2.idProp] === el.dataset.blockId;\n      });\n      return this.drake.containers.filter(function (c) {\n        return _this2.config.accepts(block, c, source);\n      });\n    },\n    forbiddenTargets: function forbiddenTargets(el, source) {\n      var _this3 = this;\n\n      return this.drake.containers.filter(function (c) {\n        return !_this3.allowedTargets(el, source).includes(c);\n      });\n    }\n  },\n\n  updated: function updated() {\n    this.drake.containers = this.$refs.list;\n    this.drake.mirrorContainer = this.$el;\n  },\n  mounted: function mounted() {\n    var _this4 = this;\n\n    this.config.accepts = this.config.accepts || this.accepts;\n    this.config.mirrorContainer = this.$el;\n    this.drake = __WEBPACK_IMPORTED_MODULE_2_dragula___default()(this.$refs.list, this.config).on('drag', function (el, source) {\n      _this4.$emit('drag', el, source);\n      el.classList.add('is-moving');\n      _this4.allowedTargets(el, source).forEach(function (c) {\n        return c.classList.add('allowed');\n      });\n      _this4.forbiddenTargets(el, source).forEach(function (c) {\n        return c.classList.add('forbidden');\n      });\n    }).on('dragend', function (el) {\n      _this4.$emit('dragend', el);\n      el.classList.remove('is-moving');\n      _this4.drake.containers.forEach(function (c) {\n        return c.classList.remove('allowed', 'forbidden');\n      });\n      window.setTimeout(function () {\n        el.classList.add('is-moved');\n        window.setTimeout(function () {\n          el.classList.remove('is-moved');\n        }, 600);\n      }, 100);\n    }).on('drop', function (block, list, source, sibling) {\n      _this4.$emit('drop', block, list, source, sibling);\n      var index = 0;\n      for (index = 0; index < list.children.length; index += 1) {\n        if (list.children[index].classList.contains('is-moving')) break;\n      }\n\n      var newState = list.dataset.status;\n\n      if (_this4.machine) {\n        var transition = _this4.findTransition(list, source);\n        if (!transition) return;\n        newState = _this4.machine.transition(source.dataset.status, transition).value;\n      }\n\n      _this4.$emit('update-block', block.dataset.blockId, newState, index);\n    }).on('cancel', function (el, container, source) {\n      _this4.$emit('cancel', el, container, source);\n    }).on('remove', function (el, container, source) {\n      _this4.$emit('remove', el, container, source);\n    }).on('shadow', function (el, container, source) {\n      _this4.$emit('shadow', el, container, source);\n    }).on('over', function (el, container, source) {\n      _this4.$emit('over', el, container, source);\n    }).on('out', function (el, container, source) {\n      _this4.$emit('out', el, container, source);\n    }).on('cloned', function (clone, original, type) {\n      _this4.$emit('cloned', clone, original, type);\n    });\n    this.$emit('init', this.drake);\n  },\n  created: function created() {\n    if (!this.stateMachineConfig) return;\n    this.machine = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_xstate__[\"a\" /* Machine */])(this.stateMachineConfig);\n  }\n});\n\n/***/ }),\n\n/***/ 70:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[30]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.53be1d410ed35ba9ef93.js","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Kanban.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5ca666bc\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Kanban.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Kanban.vue\n// module id = 1122\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_vm._m(0), _vm._v(\" \"), _c('Kanban', {\n    attrs: {\n      \"stages\": _vm.statuses,\n      \"blocks\": _vm.blocks\n    },\n    on: {\n      \"update-block\": _vm.updateBlock\n    }\n  }, [_vm._l((_vm.statuses), function(stage) {\n    return _c('div', {\n      key: stage,\n      attrs: {\n        \"slot\": stage\n      },\n      slot: stage\n    }, [_c('h2', [_vm._v(\"\\n        \" + _vm._s(stage) + \"\\n        \"), _c('a', [_vm._v(\"+\")])])])\n  }), _vm._v(\" \"), _vm._l((_vm.blocks), function(item) {\n    return _c('div', {\n      key: item.id,\n      attrs: {\n        \"slot\": item.id\n      },\n      slot: item.id\n    }, [_c('div', [_c('strong', [_vm._v(\"id:\")]), _vm._v(\" \" + _vm._s(item.id) + \"\\n      \")]), _vm._v(\" \"), _c('div', [_vm._v(\"\\n        \" + _vm._s(item.title) + \"\\n      \")])])\n  }), _vm._v(\" \"), _vm._l((_vm.statuses), function(stage) {\n    return _c('div', {\n      key: stage,\n      attrs: {\n        \"slot\": (\"footer-\" + stage)\n      },\n      slot: (\"footer-\" + stage)\n    }, [_c('a', {\n      attrs: {\n        \"href\": \"\"\n      },\n      on: {\n        \"click\": function($event) {\n          $event.preventDefault();\n          return (function () { return _vm.addBlock(stage); })($event)\n        }\n      }\n    }, [_vm._v(\"+ Add new block\")])])\n  })], 2)], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    staticClass: \"section\"\n  }, [_c('h4', [_vm._v(\"\\n      Vue adoptation of Ettric's\\n      \"), _c('a', {\n    attrs: {\n      \"href\": \"//codepen.io/ettrics/pen/QbPEeg\"\n    }\n  }, [_vm._v(\"Codepen\")])])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-31685f33\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 1123\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"drag-container\"\n  }, [_c('ul', {\n    staticClass: \"drag-list\"\n  }, _vm._l((_vm.stages), function(stage) {\n    var _obj;\n\n    return _c('li', {\n      key: stage,\n      staticClass: \"drag-column\",\n      class: ( _obj = {}, _obj['drag-column-' + stage] = true, _obj )\n    }, [_c('span', {\n      staticClass: \"drag-column-header\"\n    }, [_vm._t(stage, [_c('h2', [_vm._v(_vm._s(stage))])])], 2), _vm._v(\" \"), _c('div', {\n      staticClass: \"drag-options\"\n    }), _vm._v(\" \"), _c('ul', {\n      ref: \"list\",\n      refInFor: true,\n      staticClass: \"drag-inner-list\",\n      attrs: {\n        \"data-status\": stage\n      }\n    }, _vm._l((_vm.getBlocks(stage)), function(block) {\n      return _c('li', {\n        key: block[_vm.idProp],\n        staticClass: \"drag-item\",\n        attrs: {\n          \"data-block-id\": block[_vm.idProp]\n        }\n      }, [_vm._t(block[_vm.idProp], [_c('strong', [_vm._v(_vm._s(block[_vm.statusProp]))]), _vm._v(\" \"), _c('div', [_vm._v(_vm._s(block[_vm.idProp]))])])], 2)\n    }), 0), _vm._v(\" \"), _c('div', {\n      staticClass: \"drag-column-footer\"\n    }, [_vm._t((\"footer-\" + stage))], 2)])\n  }), 0)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ca666bc\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Kanban.vue\n// module id = 1124\n// module chunks = 1","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-31685f33\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-31685f33\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 27\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App';\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div id=\"app\">\n    <section class=\"section\">\n      <h4>\n        Vue adoptation of Ettric's\n        <a href=\"//codepen.io/ettrics/pen/QbPEeg\">Codepen</a>\n      </h4>\n    </section>\n    <Kanban :stages=\"statuses\" :blocks=\"blocks\" @update-block=\"updateBlock\">\n      <div v-for=\"stage in statuses\" :slot=\"stage\" :key=\"stage\">\n        <h2>\n          {{ stage }}\n          <a>+</a>\n        </h2>\n      </div>\n      <div v-for=\"item in blocks\" :slot=\"item.id\" :key=\"item.id\">\n        <div>\n          <strong>id:</strong> {{ item.id }}\n        </div>\n        <div>\n          {{ item.title }}\n        </div>\n      </div>\n      <div v-for=\"stage in statuses\" :key=\"stage\" :slot=\"`footer-${stage}`\">\n          <a href=\"\" @click.prevent=\"() => addBlock(stage)\">+ Add new block</a>\n      </div>\n    </Kanban>\n  </div>\n</template>\n\n<script>\nimport faker from 'faker';\nimport { debounce } from 'lodash';\nimport Kanban from './components/Kanban';\n\nexport default {\n  name: 'app',\n  components: {\n    Kanban,\n  },\n  data() {\n    return {\n      statuses: ['on-hold', 'in-progress', 'needs-review', 'approved'],\n      blocks: [],\n    };\n  },\n  mounted() {\n    for (let i = 0; i <= 10; i += 1) {\n      this.blocks.push({\n        id: i,\n        status: this.statuses[Math.floor(Math.random() * 4)],\n        title: faker.company.bs(),\n      });\n    }\n  },\n\n  methods: {\n    updateBlock: debounce(function (id, status) {\n      this.blocks.find(b => b.id === Number(id)).status = status;\n    }, 500),\n    addBlock: debounce(function (stage) {\n      this.blocks.push({\n        id: this.blocks.length,\n        status: stage,\n        title: faker.company.bs(),\n      });\n    }, 500),\n  },\n};\n</script>\n\n<style lang=\"scss\">\n  @import './assets/kanban.scss';\n\n  $on-hold: #FB7D44;\n  $in-progress: #2A92BF;\n  $needs-review: #F4CE46;\n  $approved: #00B961;\n\n  * {\n    box-sizing: border-box;\n  }\n\n  body {\n    background: #33363D;\n    color: white;\n    font-family: 'Lato';\n    font-weight: 300;\n    line-height: 1.5;\n    -webkit-font-smoothing: antialiased;\n  }\n\n  .drag-column {\n    .drag-column-header > div {\n      width: 100%;\n      h2 > a {\n        float: right;\n      }\n    }\n\n    .drag-column-footer > div {\n        margin-left: 10px;\n        a {\n            text-decoration: none;\n            color: white;\n            &:hover {\n                text-decoration: underline;\n            }\n        }\n    }\n\n    &-on-hold {\n      .drag-column-header,\n      .is-moved,\n      .drag-options {\n        background: $on-hold;\n      }\n    }\n\n    &-in-progress {\n      .drag-column-header,\n      .is-moved,\n      .drag-options {\n        background: $in-progress;\n      }\n    }\n\n    &-needs-review {\n      .drag-column-header,\n      .is-moved,\n      .drag-options{\n        background: $needs-review;\n      }\n    }\n\n    &-approved {\n      .drag-column-header,\n      .is-moved,\n      .drag-options {\n        background: $approved;\n      }\n    }\n  }\n\n  .section {\n    padding: 20px;\n    text-align: center;\n\n    a {\n      color: white;\n      text-decoration: none;\n      font-weight: 300;\n    }\n\n    h4 {\n      font-weight: 400;\n      a {\n        font-weight: 600;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?64354d2a","<template>\n  <div class=\"drag-container\">\n    <ul class=\"drag-list\">\n      <li v-for=\"stage in stages\" class=\"drag-column\" :class=\"{['drag-column-' + stage]: true}\" :key=\"stage\">\n        <span class=\"drag-column-header\">\n          <slot :name=\"stage\">\n            <h2>{{ stage }}</h2>\n          </slot>\n        </span>\n        <div class=\"drag-options\"></div>\n        <ul class=\"drag-inner-list\" ref=\"list\" :data-status=\"stage\">\n          <li class=\"drag-item\" v-for=\"block in getBlocks(stage)\" :data-block-id=\"block[idProp]\" :key=\"block[idProp]\">\n            <slot :name=\"block[idProp]\">\n              <strong>{{ block[statusProp] }}</strong>\n              <div>{{ block[idProp] }}</div>\n            </slot>\n          </li>\n        </ul>\n        <div class=\"drag-column-footer\">\n            <slot :name=\"`footer-${stage}`\"></slot>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\n  import dragula from 'dragula';\n  import { Machine } from 'xstate';\n\n  export default {\n    name: 'KanbanBoard',\n\n    props: {\n      stages: {\n        type: Array,\n        required: true,\n      },\n      blocks: {\n        type: Array,\n        required: true,\n      },\n      config: {\n        type: Object,\n        default: () => ({}),\n      },\n      stateMachineConfig: {\n        type: Object,\n        default: null,\n      },\n      idProp: {\n        type: String,\n        default: 'id',\n      },\n      statusProp: {\n        type: String,\n        default: 'status',\n      },\n    },\n\n    data() {\n      return {\n        machine: null,\n      };\n    },\n\n    computed: {\n      localBlocks() {\n        return this.blocks;\n      },\n    },\n\n    methods: {\n      getBlocks(status) {\n        return this.localBlocks.filter(block => block[this.statusProp] === status);\n      },\n\n      findPossibleTransitions(sourceState) {\n        return this.machine.config.states[sourceState].on || {};\n      },\n\n      findTransition(target, source) {\n        const targetState = target.dataset.status;\n        const sourceState = source.dataset.status;\n        const possibleTransitions = this.findPossibleTransitions(sourceState);\n        return Object.keys(possibleTransitions)\n          .find(transition => possibleTransitions[transition] === targetState);\n      },\n\n      accepts(block, target, source) {\n        if (!this.machine) return true;\n        const targetState = target.dataset.status;\n        const sourceState = source.dataset.status;\n        return Object.values(this.findPossibleTransitions(sourceState)).includes(targetState);\n      },\n\n      allowedTargets(el, source) {\n        const block = this.localBlocks.find(b => b[this.idProp] === el.dataset.blockId);\n        return this.drake.containers.filter(c => this.config.accepts(block, c, source));\n      },\n\n      forbiddenTargets(el, source) {\n        return this.drake.containers.filter(c => !this.allowedTargets(el, source).includes(c));\n      },\n    },\n\n    updated() {\n      this.drake.containers = this.$refs.list;\n      this.drake.mirrorContainer = this.$el;\n    },\n\n    mounted() {\n      this.config.accepts = this.config.accepts || this.accepts;\n      this.config.mirrorContainer = this.$el;\n      this.drake = dragula(this.$refs.list, this.config)\n      .on('drag', (el, source) => {\n        this.$emit('drag', el, source);\n        el.classList.add('is-moving');\n        this.allowedTargets(el, source).forEach(c => c.classList.add('allowed'));\n        this.forbiddenTargets(el, source).forEach(c => c.classList.add('forbidden'));\n      })\n      .on('dragend', (el) => {\n        this.$emit('dragend', el);\n        el.classList.remove('is-moving');\n        this.drake.containers.forEach(c => c.classList.remove('allowed', 'forbidden'));\n        window.setTimeout(() => {\n          el.classList.add('is-moved');\n          window.setTimeout(() => {\n            el.classList.remove('is-moved');\n          }, 600);\n        }, 100);\n      })\n      .on('drop', (block, list, source, sibling) => {\n        this.$emit('drop', block, list, source, sibling);\n        let index = 0;\n        for (index = 0; index < list.children.length; index += 1) {\n          if (list.children[index].classList.contains('is-moving')) break;\n        }\n\n        let newState = list.dataset.status;\n\n        if (this.machine) {\n          const transition = this.findTransition(list, source);\n          if (!transition) return;\n          newState = this.machine.transition(source.dataset.status, transition).value;\n        }\n\n        this.$emit('update-block', block.dataset.blockId, newState, index);\n      })\n      .on('cancel', (el, container, source) => {\n        this.$emit('cancel', el, container, source);\n      })\n      .on('remove', (el, container, source) => {\n        this.$emit('remove', el, container, source);\n      })\n      .on('shadow', (el, container, source) => {\n        this.$emit('shadow', el, container, source);\n      })\n      .on('over', (el, container, source) => {\n        this.$emit('over', el, container, source);\n      })\n      .on('out', (el, container, source) => {\n        this.$emit('out', el, container, source);\n      })\n      .on('cloned', (clone, original, type) => {\n        this.$emit('cloned', clone, original, type);\n      });\n      this.$emit('init', this.drake);\n    },\n\n    created() {\n      if (!this.stateMachineConfig) return;\n      this.machine = Machine(this.stateMachineConfig);\n    },\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Kanban.vue?68069d73"],"sourceRoot":""}